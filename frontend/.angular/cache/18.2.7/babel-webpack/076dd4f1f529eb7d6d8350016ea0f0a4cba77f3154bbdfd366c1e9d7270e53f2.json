{"ast":null,"code":"import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { tap } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nconst API_URL = 'http://localhost:8000';\nexport let ApiService = /*#__PURE__*/(() => {\n  class ApiService {\n    constructor(http) {\n      this.http = http;\n      this.token = localStorage.getItem('token');\n    }\n    /** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ */\n    setToken(token) {\n      this.token = token;\n      localStorage.setItem('token', token);\n    }\n    /** –£–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –ø—Ä–∏ –≤—ã—Ö–æ–¥–µ */\n    clearToken() {\n      this.token = null;\n      localStorage.removeItem('token');\n    }\n    /** –§–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ */\n    get headers() {\n      let headers = new HttpHeaders({\n        'Content-Type': 'application/json'\n      });\n      if (this.token) {\n        headers = headers.set('Authorization', `Bearer ${this.token}`);\n      }\n      return headers;\n    }\n    // -------------------\n    // üîê –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø\n    // -------------------\n    register(username, password, full_name) {\n      return this.http.post(`${API_URL}/auth/register`, {\n        username,\n        password,\n        full_name\n      });\n    }\n    login(username, password) {\n      return this.http.post(`${API_URL}/auth/login`, {\n        username,\n        password\n      }).pipe(tap(response => {\n        if (response?.access_token) {\n          this.setToken(response.access_token);\n        }\n      }));\n    }\n    // -------------------\n    // üõçÔ∏è –¢–û–í–ê–†–´\n    // -------------------\n    listProducts() {\n      return this.http.get(`${API_URL}/api/products`, {\n        headers: this.headers\n      });\n    }\n    getProduct(id) {\n      return this.http.get(`${API_URL}/api/products/${id}`, {\n        headers: this.headers\n      });\n    }\n    // -------------------\n    // üßæ –ó–ê–ö–ê–ó–´\n    // -------------------\n    placeOrder(order) {\n      return this.http.post(`${API_URL}/api/orders`, order, {\n        headers: this.headers\n      });\n    }\n    getOrders() {\n      return this.http.get(`${API_URL}/api/orders`, {\n        headers: this.headers\n      });\n    }\n    static {\n      this.…µfac = function ApiService_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ApiService)(i0.…µ…µinject(i1.HttpClient));\n      };\n    }\n    static {\n      this.…µprov = /*@__PURE__*/i0.…µ…µdefineInjectable({\n        token: ApiService,\n        factory: ApiService.…µfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ApiService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}