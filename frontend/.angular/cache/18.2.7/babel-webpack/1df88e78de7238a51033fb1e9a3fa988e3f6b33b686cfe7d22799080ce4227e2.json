{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CartService } from '../services/cart.service';\nimport { Router } from '@angular/router';\nlet CartComponent = class CartComponent {\n  get subtotal() {\n    return this.cart.total();\n  }\n  get delivery() {\n    return this.subtotal > 0 ? 500 : 0;\n  }\n  get total() {\n    return this.subtotal + this.delivery;\n  }\n  get totalItems() {\n    return this.cart.getCount();\n  }\n  constructor(cart, router) {\n    this.cart = cart;\n    this.router = router;\n    this.items = [];\n  }\n  ngOnInit() {\n    this.cart.cart$.subscribe(items => {\n      this.items = items;\n      console.log('Корзина обновлена:', this.items);\n    });\n  }\n  updateQty(item, newQty) {\n    this.cart.updateQty(item.id, newQty);\n  }\n  remove(id) {\n    this.cart.remove(id);\n  }\n  checkout() {\n    if (this.items.length === 0) {\n      alert('Корзина пуста!');\n      return;\n    }\n    alert('Заказ оформлен! Спасибо за покупку!');\n    this.cart.clear();\n  }\n  continueShopping() {\n    this.router.navigate(['/']);\n  }\n};\nCartComponent = __decorate([Component({\n  selector: 'app-cart',\n  templateUrl: './cart.component.html',\n  styleUrls: ['./cart.component.css']\n}), __metadata(\"design:paramtypes\", [CartService, Router])], CartComponent);\nexport { CartComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}