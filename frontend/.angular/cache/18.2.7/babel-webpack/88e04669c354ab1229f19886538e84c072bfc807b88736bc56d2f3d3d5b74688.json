{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProductService } from '../services/product.service';\nimport { CartService } from '../services/cart.service';\nlet ProductDetailComponent = class ProductDetailComponent {\n  constructor(route, ps, cart, router) {\n    this.route = route;\n    this.ps = ps;\n    this.cart = cart;\n    this.router = router;\n    this.product = null;\n    this.loading = false;\n  }\n  ngOnInit() {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (id) {\n      this.load(+id);\n    }\n  }\n  load(id) {\n    this.loading = true;\n    this.ps.get(id).subscribe({\n      next: p => {\n        this.product = p;\n        this.loading = false;\n      },\n      error: () => {\n        this.loading = false;\n      }\n    });\n  }\n  addToCart() {\n    if (this.product) {\n      this.cart.add(this.product);\n      this.router.navigate(['/cart']);\n    }\n  }\n};\nProductDetailComponent = __decorate([Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css']\n}), __metadata(\"design:paramtypes\", [ActivatedRoute, ProductService, CartService, Router])], ProductDetailComponent);\nexport { ProductDetailComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}