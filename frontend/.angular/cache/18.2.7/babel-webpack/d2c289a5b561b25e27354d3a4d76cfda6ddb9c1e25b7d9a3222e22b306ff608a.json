{"ast":null,"code":"import { CartService } from '../services/cart.service';\nimport { ProductService } from '../services/product.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/cart.service\";\nimport * as i2 from \"../services/product.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/material/icon\";\nimport * as i5 from \"@angular/material/button\";\nimport * as i6 from \"@angular/material/card\";\nfunction ProductListComponent_mat_card_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"mat-card\", 7)(1, \"div\", 8);\n    i0.ɵɵelement(2, \"img\", 9)(3, \"div\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-card-content\", 11)(5, \"h3\", 12);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 13);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 14);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"button\", 15);\n    i0.ɵɵlistener(\"click\", function ProductListComponent_mat_card_7_Template_button_click_12_listener() {\n      const product_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.addToCart(product_r2));\n    });\n    i0.ɵɵelementStart(13, \"mat-icon\");\n    i0.ɵɵtext(14, \"add_shopping_cart\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(15, \" \\u0412 \\u043A\\u043E\\u0440\\u0437\\u0438\\u043D\\u0443 \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const product_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", \"assets/images/\" + product_r2.id + \".jpg\", i0.ɵɵsanitizeUrl)(\"alt\", product_r2.title);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(product_r2.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind3(9, 5, product_r2.price, \"RUB\", \"symbol-narrow\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r2.description);\n  }\n}\nexport let ProductListComponent = /*#__PURE__*/(() => {\n  class ProductListComponent {\n    constructor(cartService, productService) {\n      this.cartService = cartService;\n      this.productService = productService;\n      this.products = [];\n      this.filteredProducts = [];\n    }\n    ngOnInit() {\n      this.productService.getAll().subscribe({\n        next: data => {\n          console.log('✅ Получены товары с API:', data);\n          this.products = data;\n          this.filteredProducts = data;\n        },\n        error: err => console.error('❌ Ошибка загрузки товаров:', err)\n      });\n    }\n    applyFilter(event) {\n      const value = event.target.value.toLowerCase();\n      this.filteredProducts = this.products.filter(p => (p.title || '').toLowerCase().includes(value));\n    }\n    addToCart(product) {\n      this.cartService.addToCart(product);\n      alert(`${product.title} добавлен в корзину!`);\n    }\n    static {\n      this.ɵfac = function ProductListComponent_Factory(__ngFactoryType__) {\n        return new (__ngFactoryType__ || ProductListComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.ProductService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: ProductListComponent,\n        selectors: [[\"app-product-list\"]],\n        decls: 8,\n        vars: 1,\n        consts: [[1, \"product-container\"], [1, \"filters-container\"], [1, \"search-box\"], [1, \"material-icons\", \"search-icon\"], [\"type\", \"text\", \"placeholder\", \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u0430\\u0440\\u043E\\u043C\\u0430\\u0442\\u043E\\u0432...\", 1, \"search-input\", 3, \"input\"], [1, \"products-grid\"], [\"class\", \"product-card\", 4, \"ngFor\", \"ngForOf\"], [1, \"product-card\"], [1, \"product-image-container\"], [\"onerror\", \"this.src='assets/images/no-image.png'\", 1, \"product-image\", 3, \"src\", \"alt\"], [1, \"product-overlay\"], [1, \"product-content\"], [1, \"product-title\"], [1, \"product-price\"], [1, \"product-description\"], [\"mat-raised-button\", \"\", 1, \"add-to-cart-btn\", 3, \"click\"]],\n        template: function ProductListComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"span\", 3);\n            i0.ɵɵtext(4, \"search\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(5, \"input\", 4);\n            i0.ɵɵlistener(\"input\", function ProductListComponent_Template_input_input_5_listener($event) {\n              return ctx.applyFilter($event);\n            });\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(6, \"div\", 5);\n            i0.ɵɵtemplate(7, ProductListComponent_mat_card_7_Template, 16, 9, \"mat-card\", 6);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵproperty(\"ngForOf\", ctx.filteredProducts);\n          }\n        },\n        dependencies: [i3.NgForOf, i4.MatIcon, i5.MatButton, i6.MatCard, i6.MatCardContent, i3.CurrencyPipe],\n        styles: [\".product-container[_ngcontent-%COMP%]{max-width:1400px;margin:0 auto;padding:2rem 20px 3rem}.filters-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:2rem}.search-box[_ngcontent-%COMP%]{flex:1;max-width:500px;position:relative}.search-input[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem .75rem 3rem;border:1px solid #fbcfe8;border-radius:50px;background:#fff;font-size:1rem;color:#831843;transition:all .3s ease;box-shadow:0 2px 10px #be769a1a}.search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ec4899;box-shadow:0 0 0 3px #ec48991a}.search-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:#d4a6b9}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:2rem}.product-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;overflow:hidden;box-shadow:0 4px 20px #be769a1a;transition:all .3s ease;display:flex;flex-direction:column;position:relative;border:none;height:100%}.product-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 12px 30px #be769a33}.product-image-container[_ngcontent-%COMP%]{position:relative;height:280px;overflow:hidden}.product-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;transition:transform .5s ease}.product-card[_ngcontent-%COMP%]:hover   .product-image[_ngcontent-%COMP%]{transform:scale(1.08)}.product-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to bottom,transparent 50%,rgba(0,0,0,.1));pointer-events:none}.product-content[_ngcontent-%COMP%]{padding:1.5rem;flex:1;display:flex;flex-direction:column;gap:.75rem}.product-title[_ngcontent-%COMP%]{font-family:Playfair Display,serif;font-size:1.3rem;font-weight:600;color:#831843;line-height:1.4;margin:0}.product-price[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;color:#be4b8a;margin:0}.product-description[_ngcontent-%COMP%]{color:#a16281;font-size:.95rem;line-height:1.5;margin:0;flex:1}.add-to-cart-btn[_ngcontent-%COMP%]{background:linear-gradient(to right,#ec4899,#be4b8a);color:#fff;border:none;border-radius:50px;padding:.75rem 1.5rem;font-size:1rem;font-weight:500;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:.5rem;box-shadow:0 4px 15px #ec48994d;margin-top:auto}.add-to-cart-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ec489966}.add-to-cart-btn[_ngcontent-%COMP%]:active{transform:translateY(0)}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.product-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease forwards}@media (max-width: 768px){.product-container[_ngcontent-%COMP%]{padding:1rem 15px 2rem}.filters-container[_ngcontent-%COMP%]{justify-content:stretch}.search-box[_ngcontent-%COMP%]{max-width:100%}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.product-image-container[_ngcontent-%COMP%]{height:240px}}@media (max-width: 480px){.products-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.product-content[_ngcontent-%COMP%]{padding:1.25rem}.product-title[_ngcontent-%COMP%]{font-size:1.2rem}.product-price[_ngcontent-%COMP%]{font-size:1.3rem}}\"]\n      });\n    }\n  }\n  return ProductListComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}