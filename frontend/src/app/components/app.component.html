<mat-toolbar class="custom-toolbar">
  <div class="toolbar-content">
    <!-- Логотип -->
    <div class="logo" (click)="router.navigate([''])" style="cursor: pointer;">
      <span class="logo-icon">🌸</span>
      <span class="logo-text">Perfume Boutique</span>
    </div>

    <span class="spacer"></span>

    <!-- Информация о пользователе -->
    <div class="user-info" *ngIf="currentUser; else authButtons">
      <div class="user-badge">
        <mat-icon class="user-icon">account_circle</mat-icon>
        <span class="username">{{currentUser.username}}</span>
        <div class="online-dot"></div>
      </div>
      <button 
        mat-stroked-button 
        class="logout-btn"
        (click)="logout()"
      >
        <mat-icon class="logout-icon">logout</mat-icon>
        Выйти
      </button>
    </div>

    <ng-template #authButtons>
      <!-- Кнопка авторизации -->
      <button 
        mat-stroked-button 
        class="auth-btn"
        (click)="openAuthDialog()"
      >
        <mat-icon class="auth-icon">account_circle</mat-icon>
        Войти
      </button>
    </ng-template>

    <!-- Корзина -->
    <button 
      mat-icon-button 
      class="cart-btn"
      [matBadge]="cartCount" 
      matBadgeColor="accent"
      (click)="router.navigate(['/cart'])" 
      aria-label="Cart"
      matTooltip="Корзина"
    >
      <mat-icon class="cart-icon">shopping_bag</mat-icon>
    </button>
  </div>
</mat-toolbar>

<router-outlet></router-outlet>