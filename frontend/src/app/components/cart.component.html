<div class="cart-container" *ngIf="items.length > 0; else emptyCart">
  <div class="cart-items-list">
    <div class="cart-item" *ngFor="let item of items">
      <div class="cart-item-image-container">
        <img 
          [src]="'assets/images/' + item.id + '.jpg'" 
          [alt]="item.title"
          class="cart-item-image"
          onerror="this.src='assets/images/no-image.png'"
        >
        <div class="cart-item-overlay"></div>
      </div>
      <div class="cart-item-content">
        <h3 class="cart-item-title">{{ item.title }}</h3>
        <p class="cart-item-price">{{ item.price }} ₽</p>
        <div class="qty-controls">
          <div class="qty-selector">
            <button class="qty-btn" (click)="updateQty(item, item.qty - 1)">−</button>
            <span class="qty-display">{{ item.qty }}</span>
            <button class="qty-btn" (click)="updateQty(item, item.qty + 1)">+</button>
          </div>
          <button class="delete-btn" (click)="remove(item.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>

  <div class="cart-summary">
    <h2 class="summary-title">Ваш заказ</h2>
    <div class="summary-row">
      <span>Товары ({{ totalItems }})</span>
      <span>{{ subtotal }} ₽</span>
    </div>
    <div class="summary-row">
      <span>Доставка</span>
      <span>{{ delivery }} ₽</span>
    </div>
    <div class="summary-row">
      <span>Скидка</span>
      <span style="color: #10b981;">-{{ discount }} ₽</span>
    </div>
    <div class="summary-total">
      <span>Итого</span>
      <span>{{ total }} ₽</span>
    </div>
    
    <!-- Кнопка оформления заказа -->
    <button class="checkout-btn" (click)="goToCheckout()">
      Перейти к оформлению
    </button>
    
    <a class="continue-shopping" (click)="continueShopping()">
      Продолжить покупки
    </a>
  </div>
</div>

<ng-template #emptyCart>
  <div class="empty-cart">
    <div class="empty-cart-icon">
      <mat-icon>sentiment_dissatisfied</mat-icon>
    </div>
    <h3>Ваша корзина пуста</h3>
    <p>Добавьте изысканные ароматы, чтобы продолжить покупки</p>
    <a class="continue-shopping" (click)="continueShopping()">
      Исследовать каталог
    </a>
  </div>
</ng-template>